<!DOCTYPE html>
<html lang="zh-cn">
<head>	
	<meta charset="utf-8">
	<title>OA管理系统</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="Charisma, a fully featured, responsive, HTML5, Bootstrap admin template.">
	<meta name="author" content="Muhammad Usman">

	<!-- The styles -->
	<link href="/static/css/bootstrap.css" rel="stylesheet">
	<link href="/static/css/main2.css" rel="stylesheet">	
	<!--验证样式-->
	<script src="/static/SpryAssets/SpryValidationTextField.js" type="text/javascript"></script>
	<script src="/static/SpryAssets/SpryValidationPassword.js" type="text/javascript"></script>
	<script src="/static/SpryAssets/SpryValidationConfirm.js" type="text/javascript"></script>
	<link href="/static/SpryAssets/SpryValidationTextField.css" rel="stylesheet" type="text/css">
	<link href="/static/SpryAssets/SpryValidationPassword.css" rel="stylesheet" type="text/css">
	<link href="/static/SpryAssets/SpryValidationConfirm.css" rel="stylesheet" type="text/css">
	
</head>

<body>	
	<div class="content">		
		<h1>修改密码</h1>
		<h2>当前位置：<span>修改密码</span></h2>
		{%- with messages = get_flashed_messages(with_categories=true) %}
		  	{%- if messages %}
	    	{%- for category, message in messages %}
	    	<div class="alert alert-{{category}}" style="width:245px;margin:-10px auto 10px;">
	      		{{message}}
	      	</div>
	    	{%- endfor %}
		  	{%- endif %}
		{%- endwith %}
		<div class="report common">
			<h5>填写新密码</h5>
			<form method="POST" action="/change_password/{{current_user.id}}" target="_parent">
			  
				<table>
					<tr>
						<td class="pull-right">原始密码<font class="red">*</font></td>
						<td>						
							<span id="spry_oldpassword">
								<input type="password" name="old_password"/>
								<span class="textfieldRequiredMsg">原始密码不能为空</span>
							</span>
						</td>
					</tr>
					<tr>
						<td class="pull-right">新密码<font class="red">*</font></td>
						<td>
							<span id="sprypassword1">								
								<input type="password" name="login_password" id="login_password">
								<span class="passwordRequiredMsg">新密码不能为空</span>
								<span class="passwordMinCharsMsg">请输入4~32个字符密码</span>
								<span class="passwordMaxCharsMsg">请输入4~32个字符密码</span>
							</span>
						</td>
					</tr>
					<tr>
						<td class="pull-right">确认新密码<font class="red">*</font></td>
						<td>
							<span id="spryconfirm1">
								<input type="password" id="login_password2"/>
								<span class="confirmRequiredMsg">确认新密码不能为空</span>
								<span class="confirmInvalidMsg">密码不一致</span>
							</span>
						</td>	
					</tr>									
				</table>
				<p class="button" style="text-align:center;">
					<input type="submit" value="提 交" style="margin:0 5px;"/>
					<input type="reset" value="重 置" style="margin:0 5px;"/>
				</p>
			</form>
		</div><!--/row-fluid -->
	</div><!--/content -->
	
	<script src="/static/js/jquery-1.7.2.min.js"></script>
	<script src="/static/js/bootstrap.min.js"></script>
	<script src="/static/js/script.js"></script>
	<script type="text/javascript">
		var sprytextfield1 = new Spry.Widget.ValidationTextField("spry_oldpassword", "none", {validateOn:["blur"]});
		var sprypassword1 = new Spry.Widget.ValidationPassword("sprypassword1", {validateOn:["blur"], minChars:4, maxChars:32});
		var spryconfirm1 = new Spry.Widget.ValidationConfirm("spryconfirm1", "login_password", {validateOn:["blur"]});	
		
	</script>

</body>
</html>
