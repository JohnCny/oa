<!DOCTYPE html>
<html lang="zh-cn">
<head>	
	<meta charset="utf-8">
	<title>OA管理系统</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="Charisma, a fully featured, responsive, HTML5, Bootstrap admin template.">
	<meta name="author" content="Muhammad Usman">

	<!-- The styles -->
	<link href="/static/css/bootstrap.css" rel="stylesheet">
	<link href="/static/css/main2.css" rel="stylesheet">	
	<style type="text/css">		
		.common .center tr td{border:none;line-height:40px;background:none;}
		.common input{width:246px;}
	</style>
	<!--验证样式-->
	<script src="/static/SpryAssets/SpryValidationTextField.js" type="text/javascript"></script>
	<script src="/static/SpryAssets/SpryValidationPassword.js" type="text/javascript"></script>
	<script src="/static/SpryAssets/SpryValidationConfirm.js" type="text/javascript"></script>
	<link href="/static/SpryAssets/SpryValidationTextField.css" rel="stylesheet" type="text/css">
	<link href="/static/SpryAssets/SpryValidationPassword.css" rel="stylesheet" type="text/css">
	<link href="/static/SpryAssets/SpryValidationConfirm.css" rel="stylesheet" type="text/css">
</head>

<body>	
	<form method="POST" action="/System/edit_user/{{user.id}}" class="content">
		<h1>编辑用户</h1>
		<h2>当前位置：系统管理 / 用户管理 / <span>编辑用户</span></h2>
		<div class="report common">
			<h5>填写用户信息</h5>
			<table>
				<tr>
					<td class="pull-right">登录名称<font class="red">*</font>：</td>
					<td width="36%">
						<span id="sprytextfield1">
							<input type="text" id="login_name" name="login_name" value="{{user.login_name}}"/>
							<span class="textfieldRequiredMsg">登录名称不能为空</span>
						</span>
					</td>
					<td class="pull-right">邮箱地址<font class="red">*</font>：</td>
					<td width="36%">
						<span id="email">
							<input type="text" id="email" name="email" value="{{user.email}}"/>
							<span class="textfieldRequiredMsg">不能为空</span>
							<span class="textfieldInvalidFormatMsg">邮箱地址无效</span>
						</span>
					</td>						
				</tr>	
				<tr>
					<td class="pull-right">真实姓名<font class="red">*</font>：</td>
					<td>
						<span id="sprytextfield2">
							<input type="text" id="real_name" name="real_name" value="{{user.real_name}}">
							<span class="textfieldRequiredMsg">真实姓名不能为空</span>
						</span>
					</td>	
					<td class="pull-right">性别<font class="red">*</font>：</td>
					<td>
						{%- if user.sex == '1' %}
							<label><input type="radio" name="sex" checked value="1" />男</label>
							<label><input type="radio" name="sex" value="0" />女</label>
						{%- else %}
							<label><input type="radio" name="sex" value="1" />男</label>
							<label><input type="radio" name="sex" checked value="0" />女</label>
						{%- endif%}
					</td>												
				</tr>
				<tr>
					<td class="pull-right">电话号码：</td>
					<td><input type="text" id="mobile" name="mobile" value="{{user.mobile}}"></td>
					<td class="pull-right">是否激活：</td>
					<td>
						{%- if user.active == '1' %}
							<label><input type="radio" name="active" checked value="1"/>是</label>
							<label><input type="radio" name="active" value="0"/>否</label>
						{%- else %}
							<label><input type="radio" name="active" value="1"/>是</label>
						<label><input type="radio" name="active" checked value="0"/>否</label>
						{%- endif%}
					</td>
				</tr>						
			</table>			
			<table class="center">
				<tr>
					<td style="width:40%"><b>可选角色</b></td>
					<td style="width:20%">&nbsp;</td>
					<td style="width:40%"><b>已选角色</b></td>											
				</tr>	
				<tr>
					<td>
						<select name="" multiple="multiple" size="6" style="width:97%" id="selsetroles">
							{%- for obj in roles %}
							{%- if role.id == obj.id %}
								<option value="{{obj.id}}" selected>{{obj.role_name}}</option>
							{%- else %}
								<option value="{{obj.id}}">{{obj.role_name}}</option>
							{%- endif %}
							{%- endfor %}
						</select>
					</td>
					<td align="pull-right" valign="middle">
						<input type="button" class="edit info" value=">>" onclick="addroles()"/><br/>
						<input type="button" class="edit info" value="<<" onclick="removeroles()"/>
					</td>
					<td>
						<select multiple="multiple" size="6" style="width:97%" id="roles" name="roles">
							{%- for obj in roles %}
							{%- if role.id == obj.id %}
								<option value="{{obj.id}}" selected>{{obj.role_name}}</option>
							{%- endif %}
							{%- endfor %}
						</select>
					</td>
				</tr>
			</table>
		</div><!--/row-fluid -->
		
		<p class="button">
			<input type="submit" value="提 交"/>
			<input type="button" value="重 置" onclick="window.location.reload()"/>
		</p>
	</form><!--/content -->
	
	<script src="/static/js/jquery-1.7.2.min.js"></script>
	<script src="/static/js/bootstrap.min.js"></script>
	<script src="/static/js/script.js"></script>
	<script src="/static/js/system.js"></script>
	<script type="text/javascript">
		var sprytextfield1 = new Spry.Widget.ValidationTextField("sprytextfield1", "none", {validateOn:["blur"]});
		var sprytextfield2 = new Spry.Widget.ValidationTextField("sprytextfield2", "none", {validateOn:["blur"]});	
		var sprytextfield3 = new Spry.Widget.ValidationTextField("email", "email", {validateOn:["blur"]});	
	</script>
</body>
</html>
